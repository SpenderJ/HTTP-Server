pokemon_g2_fr = ["Bulbizarre", "Herbizarre", "Florizarre", "Salameche", "Reptincel", "Dracaufeu", "Carapuce", "Carabaffe", "Tortank", "Chenipan", "Chrysacier", "Papilusion", "Aspicot", "Coconfort", "Dardargnan", "Roucool", "Roucoups", "Roucarnage", "Rattata", "Rattatac", "Piafabec", "Rapasdepic", "Abo", "Arbok", "Pikachu", "Raichu", "Sabelette", "Sablaireau", "Nidoran", "Nidorina", "Nidoqueen", "Nidoran", "Nidorino", "Nidoking", "Melofee", "Melodelfe", "Goupix", "Feunard", "Rondoudou", "Grodoudou", "Nosferapti", "Nosferalto", "Mystherbe", "Ortide", "Rafflesia", "Paras", "Parasect", "Mimitoss", "Aeromite", "Taupiqueur", "Triopikeur", "Miaouss", "Persian", "Psykokwak", "Akwakwak", "Ferosinge", "Colossinge", "Caninos", "Arcanin", "Ptitard", "Tetarte", "Tartard", "Abra", "Kadabra", "Alakazam", "Machoc", "Machopeur", "Mackogneur", "Chetiflor", "Boustiflor", "Empiflor", "Tentacool", "Tentacruel", "Racaillou", "Gravalanch", "Grolem", "Ponyta", "Galopa", "Ramoloss", "Flagadoss", "Magneti", "Magneton", "Canarticho", "Doduo", "Dodrio", "Otaria", "Lamantine", "Tadmorv", "Grotadmorv", "Kokiyas", "Crustabri", "Fantominus", "Spectrum", "Ectoplasma", "Onix", "Soporifik", "Hypnomade", "Krabby", "Krabboss", "Voltorbe", "Electrode", "Nœunœuf", "Noadkoko", "Osselait", "Ossatueur", "Kicklee", "Tygnon", "Excelangue", "Smogo", "Smogogo", "Rhinocorne", "Rhinoferos", "Leveinard", "Saquedeneu", "Kangourex", "Hypotrempe", "Hypocean", "Poissirene", "Poissoroy", "Stari", "Staross", "M. Mime", "Insecateur", "Lippoutou", "Elektek", "Magmar", "Scarabrute", "Tauros", "Magicarpe", "Leviator", "Lokhlass", "Metamorph", "Evoli", "Aquali", "Voltali", "Pyroli", "Porygon", "Amonita", "Amonistar", "Kabuto", "Kabutops", "Ptera", "Ronflex", "Artikodin", "Electhor", "Sulfura", "Minidraco", "Draco", "Dracolosse", "Mewtwo", "Mew", "Germignon", "Macronium", "Meganium", "Hericendre", "Feurisson", "Typhlosion", "Kaiminus", "Crocrodil", "Aligatueur", "Fouinette", "Fouinar", "Hoothoot", "Noarfang", "Coxy", "Coxyclaque", "Mimigal", "Migalos", "Nostenfer", "Loupio", "Lanturn", "Pichu", "Melo", "Toudoudou", "Togepi", "Togetic", "Natu", "Xatu", "Wattouat", "Lainergie", "Pharamp", "Joliflor", "Marill", "Azumarill", "Simularbre", "Tarpaud", "Granivol", "Floravol", "Cotovol", "Capumain", "Tournegrin", "Heliatronc", "Yanma", "Axoloto", "Maraiste", "Mentali", "Noctali", "Cornebre", "Roigada", "Feuforeve", "Zarbi", "Qulbutoke", "Girafarig", "Pomdepik", "Foretress", "Insolourdo", "Scorplane", "Steelix", "Snubbull", "Granbull", "Qwilfish", "Cizayox", "Caratroc", "Scarhino", "Farfuret", "Teddiursa", "Ursaring", "Limagma", "Volcaropod", "Marcacrin", "Cochignon", "Corayon", "Remoraid", "Octillery", "Cadoizo", "Demanta", "Airmure", "Malosse", "Demolosse", "Hyporoi", "Phanpy", "Donphan", "Porygon2", "Cerfrousse", "Queulorior", "Debugant", "Kapoera", "Lippouti", "Elekid", "Magby", "Ecremeuh", "Leuphorie", "Raikou", "Entei", "Suicune", "Embrylex", "Ymphect", "Tyranocif", "Lugia", "Ho-Oh", "Celebi"];

pokemon_g2_en = ["Bulbasaur", "Ivysaur", "Venusaur", "Charmander", "Charmeleon", "Charizard", "Squirtle", "Wartortle", "Blastoise", "Caterpie", "Metapod", "Butterfree", "Weedle", "Kakuna", "Beedrill", "Pidgey", "Pidgeotto", "Pidgeot", "Rattata", "Raticate", "Spearow", "Fearow", "Ekans", "Arbok", "Pikachu", "Raichu", "Sandshrew", "Sandslash", "Nidoran", "Nidorina", "Nidoqueen", "Nidoran", "Nidorino", "Nidoking", "Clefairy", "Clefable", "Vulpix", "Ninetales", "Jigglypuff", "Wigglytuff", "Zubat", "Golbat", "Oddish", "Gloom", "Vileplume", "Paras", "Parasect", "Venonat", "Venomoth", "Diglett", "Dugtrio", "Meowth", "Persian", "Psyduck", "Golduck", "Mankey", "Primeape", "Growlithe", "Arcanine", "Poliwag", "Poliwhirl", "Poliwrath", "Abra", "Kadabra", "Alakazam", "Machop", "Machoke", "Machamp", "Bellsprout", "Weepinbell", "Victreebel", "Tentacool", "Tentacruel", "Geodude", "Graveler", "Golem", "Ponyta", "Rapidash", "Slowpoke", "Slowbro", "Magnemite", "Magneton", "Farfetch’d", "Doduo", "Dodrio", "Seel", "Dewgong", "Grimer", "Muk", "Shellder", "Cloyster", "Gastly", "Haunter", "Gengar", "Onix", "Drowzee", "Hypno", "Krabby", "Kingler", "Voltorb", "Electrode", "Exeggcute", "Exeggutor", "Cubone", "Marowak", "Hitmonlee", "Hitmonchan", "Lickitung", "Koffing", "Weezing", "Rhyhorn", "Rhydon", "Chansey", "Tangela", "Kangaskhan", "Horsea", "Seadra", "Goldeen", "Seaking", "Staryu", "Starmie", "Mr. Mime", "Scyther", "Jynx", "Electabuzz", "Magmar", "Pinsir", "Tauros", "Magikarp", "Gyarados", "Lapras", "Ditto", "Eevee", "Vaporeon", "Jolteon", "Flareon", "Porygon", "Omanyte", "Omastar", "Kabuto", "Kabutops", "Aerodactyl", "Snorlax", "Articuno", "Zapdos", "Moltres", "Dratini", "Dragonair", "Dragonite", "Mewtwo", "Mew", "Chikorita", "Bayleef", "Meganium", "Cyndaquil", "Quilava", "Typhlosion", "Totodile", "Croconaw", "Feraligatr", "Sentret", "Furret", "Hoothoot", "Noctowl", "Ledyba", "Ledian", "Spinarak", "Ariados", "Crobat", "Chinchou", "Lanturn", "Pichu", "Cleffa", "Igglybuff", "Togepi", "Togetic", "Natu", "Xatu", "Mareep", "Flaaffy", "Ampharos", "Bellossom", "Marill", "Azumarill", "Sudowoodo", "Politoed", "Hoppip", "Skiploom", "Jumpluff", "Aipom", "Sunkern", "Sunflora", "Yanma", "Wooper", "Quagsire", "Espeon", "Umbreon", "Murkrow", "Slowking", "Misdreavus", "Unown", "Wobbuffet", "Girafarig", "Pineco", "Forretress", "Dunsparce", "Gligar", "Steelix", "Snubbull", "Granbull", "Qwilfish", "Scizor", "Shuckle", "Heracross", "Sneasel", "Teddiursa", "Ursaring", "Slugma", "Magcargo", "Swinub", "Piloswine", "Corsola", "Remoraid", "Octillery", "Delibird", "Mantine", "Skarmory", "Houndour", "Houndoom", "Kingdra", "Phanpy", "Donphan", "Porygon2", "Stantler", "Smeargle", "Tyrogue", "Hitmontop", "Smoochum", "Elekid", "Magby", "Miltank", "Blissey", "Raikou", "Entei", "Suicune", "Larvitar", "Pupitar", "Tyranitar", "Lugia", "Ho-Oh", "Celebi"];

nbr_pokemon = pokemon_g2_en.length;

var audio = new Audio('sounds/pokemon.mp3');
var audio_miss = new Audio('sounds/fuck.m4a');
var audio_pass = new Audio('sounds/jingle.m4a');

function genRandom() {
	nbr = parseInt(Math.random() * (nbr_pokemon - 1) + 1);
	newnbr = "" + nbr;
	while (newnbr.length < 3)
		newnbr = "0" + nbr;
	return (newnbr);
}

function pokemonLang(lang, nbr)
{
	if (lang == "pokemon_g2_en")
		return (pokemon_g2_en[nbr - 1]);
	else
		return (pokemon_g2_fr[nbr - 1]);
}

function numberSelect(select) {
	for (var i = 0 ; i < select.length ; i++) {
		if (select[i].checked)
			return (i);
	}
}

function getImgURL2() {
	audio.play();
	var nbr = genRandom();
	var url = "https://eternia.fr/public/media/pokedex/artworks/NBR.png";
	var newurl = url.replace("NBR", nbr);
	img_pokemon.src = newurl;
	img_pokemon.style.filter = "contrast(0%)";
	img_pokemon.style.filter = "brightness(0%)";
	pokemon_name.innerText = pokemonLang(lang, nbr);
	pokemon_name.style.display = "none";
	console.log(nbr + " | Pokemon: " + pokemonLang(lang, nbr));
	return parseInt(nbr);
}

document.addEventListener('DOMContentLoaded', function(){
	img_pokemon = document.getElementById('imgpoke');
	name_pokemon = document.getElementById('namepoke');
	pokemon_name = document.getElementById('pokemon_name');
	submit = document.getElementById('submit');
	select = document.getElementById('lang');
	var nbr_total = 0;
	var nbr_pass = 0;

	lang = select[select.selectedIndex].value;
	select.addEventListener('change', function () {
		lang = select[select.selectedIndex].value;
		nbr = getImgURL2();
	});

	name_pokemon.addEventListener('keyup', function(event){
		event.preventDefault();
		if (event.keyCode === 13) {
			submit.click();
		}
	});

	nbr = getImgURL2();
	submit.addEventListener('click', function(){
		input = name_pokemon.value.trim().toLowerCase();
		name_pokemon.value = "";
		if (pokemonLang(lang, nbr).toLowerCase() == input) {
			img_pokemon.style.filter = "contrast(100%)";
			img_pokemon.style.filter = "brightness(100%)";
			audio_pass.play();
			nbr_pass += 1;
		}
		else {
			img_pokemon.style.filter = "brightness(100%)";
			img_pokemon.style.filter = "grayscale(100%)";
			audio_miss.play();
		}
		nbr_total += 1;
		document.getElementById('score').innerText = nbr_pass;
		document.getElementById('total').innerText = nbr_total;
		pokemon_name.style.display = "initial";
		setTimeout(function() { nbr = getImgURL2();}, 2000);
	});
});
